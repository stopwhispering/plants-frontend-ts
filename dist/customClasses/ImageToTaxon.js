sap.ui.define(["sap/m/MessageToast","sap/ui/base/ManagedObject"],function(e,n){const t=n.extend("plants.ui.customClasses.ImageToTaxon",{assignImageToTaxon:function n(t,a){const i=t.getBindingContext("images").getObject();var s={filename:i.filename,description:i.description};const o=t.getBindingContext("taxon").getObject();if(!!o.images&&o.images.length>0){var g=o.images.find(function(e){return e.filename===s.filename});if(g){e.show("Taxon already assigned to image.");return}}if(!o.images){o.images=[s]}else{o.images.push(s)}e.show("Assigned to taxon "+o.name);a.updateBindings(false)},unassignImageFromTaxon:function n(t,a){const i=t.getBindingContext("taxon").getObject();const s=t.getBindingContext("taxon").getPath();var o=s.substr(0,s.lastIndexOf("/"));var g=a.getProperty(o);var r=g.indexOf(i);if(r===-1){e.show("Can't find image.");return}g.splice(r,1);a.refresh()}});return t});