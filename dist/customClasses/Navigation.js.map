{"version":3,"file":"Navigation.js","names":["Navigation","ManagedObject","constructor","oComponent","_component","navToPlantDetails","iPlant","getHelper","getCurrentUIState","layout","oNextUIState","getNextUIState","aHash","getRouter","getHashChanger","getHash","split","sLastItem","pop","navTo","plant_id","navToPlant","oPlant","id","getInstance","_instance","Error"],"sources":["../../src/customClasses/Navigation.ts"],"sourcesContent":["// helper class for navigation/route-specific methods used applied in multiple controllers\r\nimport ManagedObject from \"sap/ui/base/ManagedObject\";\r\nimport Component from \"../Component\";\r\nimport { PPlant } from \"../definitions/plant_entities\";\r\n\r\n/**\r\n * @namespace plants.ui.customClasses\r\n */\r\nexport default class Navigation extends ManagedObject {\r\n\tprivate static _instance: Navigation;\r\n\tprivate _component: Component;\r\n\r\n\tpublic static getInstance(oComponent?: Component): Navigation {\r\n\t\tif (!Navigation._instance && !oComponent) {\r\n\t\t\tthrow new Error(\"MessageUtil not initialized and no context supplied\");\r\n\t\t} else if (Navigation._instance && oComponent) {\r\n\t\t\tthrow new Error(\"MessageUtil already initialized\");\r\n\t\t} else if (!Navigation._instance && oComponent) {\r\n\t\t\tNavigation._instance = new Navigation(oComponent);\r\n\t\t}\r\n\t\treturn Navigation._instance;\r\n\t}\t\r\n\r\n\tprivate constructor(oComponent: Component) {\r\n\t\tsuper();\r\n\t\tthis._component = oComponent;\r\n\t}\r\n\r\n\tpublic navToPlantDetails(iPlant: int) {\r\n\t\t// todo refactored... adjust comments etc\r\n\t\t// requires the plant index in plants model\r\n\t\t// open requested plants detail view in the mid column; either via...\r\n\t\t// - detail route (two-columns, default)\r\n\t\t// - untagged route (three-colums, only if untagged route already active)\r\n\t\tif (this._component.getHelper().getCurrentUIState().layout !== \"OneColumn\") {\r\n\t\t\tvar oNextUIState = this._component.getHelper().getCurrentUIState();\r\n\t\t} else {\r\n\t\t\toNextUIState = this._component.getHelper().getNextUIState(1);\r\n\t\t}\r\n\r\n\t\t// use detail (two-col) route or untagged(three-col) route\r\n\t\tvar aHash = this._component.getRouter().getHashChanger().getHash().split('/');\r\n\t\tvar sLastItem = aHash.pop();  // e.g. \"TwoColumnsMidExpanded\"\r\n\t\tif (sLastItem === 'untagged') {\r\n\t\t\tthis._component.getRouter().navTo(\"untagged\", { layout: oNextUIState.layout, plant_id: iPlant });\r\n\t\t} else {\r\n\t\t\tthis._component.getRouter().navTo(\"detail\", { layout: oNextUIState.layout, plant_id: iPlant });\r\n\t\t}\r\n\t}\r\n\r\n\tpublic navToPlant(oPlant: PPlant, oComponent: Component) {\r\n\t\t//similar to navToPlantDetails with two differences:\r\n\t\t//  - requires the plant object instead of plant id\r\n\t\t//  - requires component to be supplied as parameter (therefore we don't have to bind this to the calling function)\r\n\t\tif (oComponent.getHelper().getCurrentUIState().layout !== \"OneColumn\") {\r\n\t\t\tvar oNextUIState = oComponent.getHelper().getCurrentUIState();\r\n\t\t} else {\r\n\t\t\toNextUIState = oComponent.getHelper().getNextUIState(1);\r\n\t\t}\r\n\r\n\t\t// use detail (two-col) route or untagged(three-col) route\r\n\t\tvar aHash = oComponent.getRouter().getHashChanger().getHash().split('/');\r\n\t\tvar sLastItem = aHash.pop();\r\n\t\tif (sLastItem === 'untagged') {\r\n\t\t\toComponent.getRouter().navTo(\"untagged\", { layout: oNextUIState.layout, plant_id: oPlant.id });\r\n\t\t} else {\r\n\t\t\toComponent.getRouter().navTo(\"detail\", { layout: oNextUIState.layout, plant_id:  oPlant.id });\r\n\t\t}\r\n\t}\r\n\r\n}"],"mappings":"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"}